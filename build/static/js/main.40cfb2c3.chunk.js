(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{126:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(e,t,a){return fetch("http://localhost:80/api/post/new/"+e,{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)},body:a}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))},r=function(e,t){return fetch("http://localhost:80/api/posts/by/".concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}},130:function(e,t,a){e.exports=a.p+"static/media/cat-icon-black.dc695d6f.png"},14:function(e,t,a){"use strict";a.d(t,"e",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return o})),a.d(t,"d",(function(){return l})),a.d(t,"b",(function(){return c}));var n=function(e){return fetch("http://localhost:80/api/signup",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},r=function(e){return fetch("http://localhost:80/api/signin",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},o=function(e,t){"undefined"!==typeof window&&(localStorage.setItem("jwt",JSON.stringify(e)),t())},l=function(e){if("undefined"!==typeof window)return localStorage.removeItem("jwt"),fetch("http://localhost:80/api/signout",{method:"GET"}).then((function(e){return console.log("signout",e),e.json(window.location.href="/")}))},c=function(){return"undefined"!=typeof window&&(!!localStorage.getItem("jwt")&&JSON.parse(localStorage.getItem("jwt")))}},253:function(e,t,a){e.exports=a.p+"static/media/cat-icon-black.dc695d6f.png"},277:function(e,t,a){e.exports=a(499)},39:function(e,t,a){e.exports=a.p+"static/media/defauly.83e22d51.jpg"},499:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(42),l=a.n(o),c=a(32),i=a(25),s=(a(137),a(267)),u=a(263),m=a(518),h=a(252),d=a.n(h),p=a(14),f=a(26),E=a(19),b=a(20),g=a(22),v=a(21),j=a(511),w=a(86),y=a(126),O=a(27),k=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){var e;return Object(E.a)(this,a),(e=t.call(this)).isValid=function(){var t=e.state,a=t.body;return t.fileSize>5e7?(O.b.error("Photo size is too large"),!1):0!=a.length||(O.b.error("What do you wanna say?"),!1)},e.handleChange=function(t){return function(a){var n;e.setState({error:""});var r="photo"===t?a.target.files[0]:a.target.value,o="photo"===t?a.target.files[0].size:0;e.postData.set(t,r),e.setState((n={},Object(f.a)(n,t,r),Object(f.a)(n,"fileSize",o),n))}},e.clickSubmit=function(t){if(t.preventDefault(),e.isValid()){var a=Object(p.b)().user._id,n=Object(p.b)().token;Object(y.a)(a,n,e.postData).then((function(t){t.error?O.b.error(e.state.error):e.json(window.location.href="/")}))}},e.state={title:"",body:"",photo:"",error:"",user:{},fileSize:0,loading:!1},e}return Object(b.a)(a,[{key:"componentDidMount",value:function(){this.postData=new FormData,this.setState({user:Object(p.b)().user})}},{key:"render",value:function(){var e=this.state,t=(e.title,e.body);e.photo,e.user,e.error,e.loading;return r.a.createElement("div",{className:"ui container"},r.a.createElement(O.a,null),r.a.createElement("h2",null,"What's going on?"),r.a.createElement("form",{className:"ui form"},r.a.createElement(j.a,{placeholder:"Tell us more",onChange:this.handleChange("body"),value:t})," ",r.a.createElement("div",{style:{position:"relative",display:"inline-block",borderRadius:"8px;",border:"#ebebeb solid 1px",width:"32px",padding:" 4px 6px 4px 8px",font:"normal 14px Myriad Pro, Verdana, Geneva, sans-serif",color:"#7f7f7f",marginTop:"2px",background:"white"}},r.a.createElement(w.a,{name:"photo"}),r.a.createElement("input",{style:{webkitAppearance:"none",position:"absolute",top:"0",left:"0",opacity:"0"},onChange:this.handleChange("photo"),className:"first-name",placeholder:"First Name",accept:"image/*",type:"file"})),r.a.createElement("div",{className:"field"}),r.a.createElement("button",{onClick:this.clickSubmit,className:"ui button",type:"submit"},"Post")))}}]),a}(n.Component),C=r.a.lazy((function(){return Promise.all([a.e(3),a.e(4)]).then(a.bind(null,533))})),S=function(){return r.a.createElement("div",{className:"ui container"},!Object(p.b)()&&r.a.createElement("div",null,r.a.createElement("h2",null,"Join us ",r.a.createElement("a",{href:"/signup"},"now!"))),Object(p.b)()&&r.a.createElement("div",null,r.a.createElement(k,null)),r.a.createElement("hr",null),r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",null,"Loadingsssss")},r.a.createElement(d.a,null,r.a.createElement(C,null))))},x=a(264),I=a(516),N=a(253),P=a.n(N),T=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={activeItem:"home"},e.handleItemClick=function(t,a){var n=a.name;return e.setState({activeItem:n})},e}return Object(b.a)(a,[{key:"render",value:function(){var e=this.state.activeItem;return r.a.createElement(x.a,null,r.a.createElement(x.a.Item,{as:c.b,to:"/home",name:"home",active:"home"===e,onClick:this.handleItemClick}),r.a.createElement(x.a.Item,{as:c.b,to:"/users",name:"Meowers",active:"messages"===e,onClick:this.handleItemClick}),r.a.createElement(x.a.Menu,{position:"right"},r.a.createElement(I.a,{item:!0,text:"Meow"},r.a.createElement(I.a.Menu,null,!Object(p.b)()&&r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a.Item,{as:c.b,to:"/signup"},"SignUp"),r.a.createElement(I.a.Item,{as:c.b,to:"/signin"},"SignIn")),Object(p.b)()&&r.a.createElement(r.a.Fragment,null," ",r.a.createElement(x.a.Item,{as:c.b,to:"/create/post",name:"post",active:"home"===e,onClick:this.handleItemClick}),r.a.createElement(I.a.Item,{as:c.b,to:"/user/".concat(Object(p.b)().user._id)},"My Meow"),r.a.createElement(I.a.Item,{onClick:function(){return Object(p.d)()}},"Signout")))),Object(p.b)()&&r.a.createElement(x.a.Item,null,r.a.createElement("img",{alt:"",src:P.a})," ",r.a.createElement("strong",null,Object(p.b)().user.name))))}}]),a}(n.Component),_=(a(241),a(130)),A=a.n(_),D=a(266),z=a(514),F=a(180),B=a(517),M=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){var e;return Object(E.a)(this,a),(e=t.call(this)).handleChange=function(t){return function(a){e.setState(Object(f.a)({},t,a.target.value))}},e.clickSubmit=function(t){t.preventDefault();var a=e.state,n={name:a.name,email:a.email,password:a.password};Object(p.e)(n).then((function(t){t.error?O.b.error(t.error):O.b.success("Signed in Successfully Now you can Sign In"),e.setState({error:"",name:"",email:"",password:"",redirectToRef:!0})}))},e.state={name:"",email:"",password:"",error:""},e}return Object(b.a)(a,[{key:"render",value:function(){var e=this.state,t=e.name,a=e.email,n=e.password;return r.a.createElement("div",{className:"ui container"},r.a.createElement(D.a,{textAlign:"center",style:{height:"100vh"},verticalAlign:"middle"},r.a.createElement(D.a.Column,{style:{maxWidth:450}},r.a.createElement(m.a,{as:"h2",color:"black",textAlign:"center"},r.a.createElement(u.a,{src:A.a})," JoinUs"),r.a.createElement(z.a,{size:"large"},r.a.createElement(F.a,{stacked:!0},r.a.createElement(z.a.Input,{fluid:!0,icon:"user",iconPosition:"left",onChange:this.handleChange("name"),placeholder:"FullName",value:t}),r.a.createElement(z.a.Input,{fluid:!0,icon:"user",iconPosition:"left",onChange:this.handleChange("email"),placeholder:"E-mail address",value:a}),r.a.createElement(z.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password",onChange:this.handleChange("password"),value:n,type:"password"}),r.a.createElement(s.a,{color:"black",fluid:!0,size:"large",onClick:this.clickSubmit},"Join")),r.a.createElement(B.a,null,"Already registered? ",r.a.createElement("a",{href:"/signin"},"Sign In")))))," ",r.a.createElement(O.a,null),r.a.createElement(O.a,null))}}]),a}(n.Component),W=a(40),H=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){var e;return Object(E.a)(this,a),(e=t.call(this)).handleChange=function(t){return function(a){e.setState({error:""}),e.setState(Object(f.a)({},t,a.target.value))}},e.clickSubmit=function(t){t.preventDefault(),e.setState({loading:!0});var a=e.state,n={email:a.email,password:a.password};Object(p.c)(n).then((function(t){t.error?O.b.error(t.error)&&e.setState({error:t.error,loading:!1}):Object(p.a)(t,(function(){e.setState({redirectToRef:!0}),e.json(window.location.href="/")}))}))},e.state={email:"",password:"",error:"",redirectToRef:!1,loading:!1},e}return Object(b.a)(a,[{key:"render",value:function(){Object(W.a)();var e=this.state,t=e.email,a=e.password,n=(e.redirectToRef,e.loading);return r.a.createElement("div",{className:"ui container"},r.a.createElement(D.a,{textAlign:"center",style:{height:"100vh"},verticalAlign:"middle"},r.a.createElement(D.a.Column,{style:{maxWidth:450}},r.a.createElement(m.a,{as:"h2",color:"black",textAlign:"center"},r.a.createElement(u.a,{src:A.a})," Log-in to Meow!"),r.a.createElement(z.a,{size:"large"},r.a.createElement(F.a,{stacked:!0},r.a.createElement(z.a.Input,{fluid:!0,icon:"user",iconPosition:"left",onChange:this.handleChange("email"),placeholder:"E-mail address",value:t}),r.a.createElement(z.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password",onChange:this.handleChange("password"),value:a,type:"password"}),r.a.createElement(s.a,{color:"black",fluid:!0,size:"large",onClick:this.clickSubmit},"Login"))),r.a.createElement(B.a,null,"New to us? ",r.a.createElement("a",{href:"/signup"},"Sign Up")))),r.a.createElement(O.a,null,n?O.b.warn("Loading",{className:"custom-toast",draggable:!0,autoClose:500}):""),r.a.createElement(O.a,null,n?O.b.warn("Loading",{className:"custom-toast",draggable:!0,autoClose:500}):""))}}]),a}(r.a.Component),J=a(513),L=function(e,t){return fetch("http://localhost:80/api/user/"+e,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))},R=function(e,t){return fetch("http://localhost:80/api/user/"+e,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))},U=function(e,t,a){return fetch("http://localhost:80/api/users/follow",{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({userId:e,followId:a})}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))},G=function(e,t,a){return fetch("http://localhost:80/api/users/unfollow",{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({userId:e,unfollowId:a})}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))},V=a(512),q=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={redirect:!1},e.show=function(){return e.setState({open:!0})},e.handleConfirm=function(){var t=Object(p.b)().token,a=e.props.userId;R(a,t).then((function(t){t.error?console.log(t.error):(Object(p.d)((function(){return console.log("")})),e.setState({redirect:!0}))}))},e.handleCancel=function(){return e.setState({result:"cancelled",open:!1})},e}return Object(b.a)(a,[{key:"render",value:function(){var e=this.state,t=e.open,a=e.result;return this.state.redirect?r.a.createElement(i.a,{to:{pathname:"/login"}}):r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("em",null,a)),r.a.createElement(s.a,{onClick:this.show},"Remove Profile"),r.a.createElement(V.a,{open:t,onCancel:this.handleCancel,onConfirm:this.handleConfirm}))}}]),a}(n.Component),K=a(39),Q=a.n(K),X=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).followClick=function(){e.props.onButtonClick(U)},e.unfollowClick=function(){e.props.onButtonClick(G)},e}return Object(b.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,this.props.following?r.a.createElement(s.a,{onClick:this.unfollowClick},"Unfollow"):r.a.createElement(s.a,{onClick:this.followClick},"Follow"))}}]),a}(n.Component),Y=a(521),Z=a(515),$=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){var e;return Object(E.a)(this,a),(e=t.call(this)).cheakFollow=function(e){var t=Object(p.b)();return e.followers.find((function(e){return e._id===t.user._id}))},e.clickFollowButton=function(t){t(Object(p.b)().user._id,Object(p.b)().token,e.state.user._id).then((function(t){t.error?e.setState({error:t.error}):e.setState({user:t,following:!e.state.following})}))},e.init=function(t){var a=Object(p.b)().token;L(t,a).then((function(t){if(t.error)e.setState({readirectToSignin:!0});else{var a=e.cheakFollow(t);e.setState({user:t,following:a})}}))},e.state={user:{following:[],followers:[]},following:!1,readirectToSignin:!1,error:""},e}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;this.init(e)}},{key:"componentWillReceiveProps",value:function(e){var t=e.match.params.userId;this.init(t)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ee,null))}}]),a}(n.Component),ee=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(b.a)(a,[{key:"render",value:function(){var e=[{menuItem:"Posts",render:function(){return r.a.createElement(Y.a.Pane,{attached:!1},r.a.createElement(i,null))}},{menuItem:"Followers",render:function(){return r.a.createElement(Y.a.Pane,{attached:!1},r.a.createElement(s,null))}},{menuItem:"Following",render:function(){return r.a.createElement(Y.a.Pane,{attached:!1},r.a.createElement(c,null))}}],t=this.props,a=t.following,n=t.followers,o=t.posts,l=function(){return r.a.createElement(Y.a,{panes:e})},c=function(){return r.a.createElement("div",null,a.map((function(e,t){return r.a.createElement(u.a.Group,{size:"tiny",style:{display:"inline"}},r.a.createElement(u.a,{as:"a",href:"/user/".concat(e._id),style:{mainHeight:"50px",maxHeight:"50px",mainWidth:"50px",maxWidth:"50px"},onError:function(e){return e.target.src="".concat(Q.a)},src:"http://localhost/api/user/photo/".concat(e._id),circular:!0}))})))},i=function(){return r.a.createElement("div",null,o.map((function(e,t){return r.a.createElement("div",null," ",r.a.createElement(Z.a,null,o.map((function(e,t){return r.a.createElement(Z.a.Event,{key:t},r.a.createElement(Z.a.Label,{style:{backgroundColor:"white",width:"70px",height:"70px"}},r.a.createElement(u.a,{fluid:!0,circular:!0,as:"a",href:"/user/".concat(e.postedBy._id),style:{mainHeight:"60px",maxHeight:"60px",mainWidth:"60px",maxWidth:"60px"},src:"http://localhost/api/user/photo/".concat(e.postedBy._id),onError:function(e){return e.target.src="".concat(Q.a)}})),r.a.createElement(Z.a.Content,null,r.a.createElement(Z.a.Summary,null,r.a.createElement("a",null,e.postedBy.name),r.a.createElement(Z.a.Date,null,new Date(e.created).toDateString())),r.a.createElement(Z.a.Extra,{text:!0},e.body),r.a.createElement(Z.a.Extra,{Image:!0}," ",r.a.createElement("img",{style:{mainHeight:"300px",maxHeight:"300px",mainWidth:"300px",maxWidth:"300px"},src:"http://localhost/api/post/photo/".concat(e._id),onError:"",alt:""})),r.a.createElement(Z.a.Meta,null,r.a.createElement(Z.a.Like,null,r.a.createElement(w.a,{name:"like"}),"5 Likes")),r.a.createElement("hr",null)))}))))})))},s=function(){return r.a.createElement("div",null,n.map((function(e,t){return r.a.createElement(u.a.Group,{size:"tiny",style:{display:"inline"}},r.a.createElement(u.a,{as:"a",href:"/user/".concat(e._id),style:{mainHeight:"50px",maxHeight:"50px",mainWidth:"50px",maxWidth:"50px"},onError:function(e){return e.target.src="".concat(Q.a)},src:"http://localhost/api/user/photo/".concat(e._id),circular:!0}))})))};return r.a.createElement("div",null,r.a.createElement(l,null))}}]),a}(n.Component),te=a(262),ae=a.n(te),ne=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){var e;return Object(E.a)(this,a),(e=t.call(this)).cheakFollow=function(e){var t=Object(p.b)();return e.followers.find((function(e){return e._id===t.user._id}))},e.clickFollowButton=function(t){t(Object(p.b)().user._id,Object(p.b)().token,e.state.user._id).then((function(t){t.error?e.setState({error:t.error}):e.setState({user:t,following:!e.state.following})}))},e.init=function(t){var a=Object(p.b)().token;L(t,a).then((function(t){if(t.error)e.setState({readirectToSignin:!0});else{var a=e.cheakFollow(t);e.setState({user:t,following:a}),e.LoadPosts(t._id)}}))},e.LoadPosts=function(t){var a=Object(p.b)().token;Object(y.b)(t,a).then((function(t){t.error?console.log(t.error):e.setState({posts:t})}))},e.state={user:{following:[],followers:[]},following:!1,readirectToSignin:!1,error:"",posts:[]},e}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;this.init(e)}},{key:"componentWillReceiveProps",value:function(e){var t=e.match.params.userId;this.init(t)}},{key:"render",value:function(){var e=this.state,t=e.readirectToSignin,a=e.user,n=e.posts,o=a._id?"http://localhost/api/user/photo/".concat(a._id):Q.a;return t?r.a.createElement(i.a,{to:"/signin"}):r.a.createElement(J.a,{text:!0,style:{marginTop:"10vh"}},r.a.createElement(m.a,{as:"h2",icon:!0,textAlign:"center"},r.a.createElement(u.a,{as:"a",href:"http://localhost/api/user/photo/".concat(a._id),fluid:!0,circular:!0,style:{mainHeight:"60px",maxHeight:"60px",mainWidth:"60px",maxWidth:"60px"},src:o,onError:function(e){return e.target.src="".concat(Q.a)}})," ",r.a.createElement(m.a.Content,null,a.name),r.a.createElement(ae.a,{style:{fontSize:"20px"}},r.a.createElement("p",null,a.about)),r.a.createElement(m.a.Subheader,null," ",r.a.createElement("p",{style:{fontSize:"10px"}},"Joined ".concat(new Date(a.created).toDateString()))),Object(p.b)().user&&Object(p.b)().user._id===a._id?r.a.createElement("div",{className:"d-inline-block",style:{float:"right"}},r.a.createElement(q,null),r.a.createElement(c.b,{to:"/user/edit/".concat(this.state.user._id)},r.a.createElement(s.a,null,"Edit Profile"))):r.a.createElement(X,{following:this.state.following,onButtonClick:this.clickFollowButton})),r.a.createElement("hr",null),r.a.createElement(ee,{followers:a.followers,following:a.following,posts:n}))}}]),a}(n.Component),re=a(519),oe=a(136),le=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){var e;return Object(E.a)(this,a),(e=t.call(this)).state={users:[]},e}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this;(function(e,t){return fetch("http://localhost:80/api/user/findpeople/".concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))})(Object(p.b)().user_id,Object(p.b)().token).then((function(t){t.error?console.log(t.error):e.setState({users:t})}))}},{key:"render",value:function(){var e,t=(e={maxWidth:"13ch",display:"block"},Object(f.a)(e,"maxWidth","30px"),Object(f.a)(e,"overFlow","hidden"),Object(f.a)(e,"whiteSpace","nowrap"),Object(f.a)(e,"textOverflow","ellipsis"),e),a=this.state.users;return r.a.createElement(J.a,{text:!0,style:{marginTop:"10vh"}},r.a.createElement(m.a,{as:"h2",style:{marginBottom:"18vh"}},"Users"),r.a.createElement(D.a,{columns:"three",divided:!0},r.a.createElement(D.a.Row,null,a.map((function(e,a){return r.a.createElement(D.a.Column,null,r.a.createElement(re.a,{style:{marginBottom:"5vh"},key:a},r.a.createElement(u.a,{src:"http://localhost/user/photo/".concat(e._id),onError:function(e){return e.target.src="".concat(Q.a)},rounded:!0,style:{minHeight:"200px",maxHeight:"200px"}}),r.a.createElement(re.a.Content,null,r.a.createElement(re.a.Header,null,e.name),r.a.createElement(re.a.Meta,null,r.a.createElement("span",{className:"date"},"Joined ",new Date(e.created).toDateString())),r.a.createElement(re.a.Description,null,r.a.createElement("div",{class:"ui bottom attached button"},r.a.createElement("a",{href:"/user/".concat(e._id)},r.a.createElement("button",{class:"ui button"},"Profile")))),r.a.createElement(oe.a,null,r.a.createElement("span",{style:t}," ",e.about))),r.a.createElement(re.a.Content,{extra:!0},r.a.createElement("a",null,r.a.createElement(w.a,{name:"user"}),"22 Friends"))))})))))}}]),a}(n.Component),ce=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(b.a)(a,[{key:"render",value:function(){var e=function(){return r.a.createElement(Y.a,{panes:t})},t=[{menuItem:"AllMeowrs",render:function(){return r.a.createElement(Y.a.Pane,{attached:!1},r.a.createElement(ie,null))}},{menuItem:"Meowers to follow",render:function(){return r.a.createElement(Y.a.Pane,{attached:!1},r.a.createElement(le,null))}}];return r.a.createElement(e,null)}}]),a}(n.Component),ie=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){var e;return Object(E.a)(this,a),(e=t.call(this)).clickfollow=function(t,a){var n=Object(p.b)().user._id,r=Object(p.b)().token;U(n,r,t._id).then((function(n){if(n.error)e.setState({error:n.error});else{var r=e.state.users;r.splice(a,1),e.setState({users:r,open:!0,followMessage:"Following ".concat(t.name)})}}))},e.state={users:[],error:[],open:!1},e}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:80/api/users",{method:"GET"}).then((function(e){return e.json()})).catch((function(e){console.log(e)})).then((function(t){t.error?console.log(t.error):e.setState({users:t})}))}},{key:"render",value:function(){var e,t=(e={maxWidth:"13ch",display:"block"},Object(f.a)(e,"maxWidth","30px"),Object(f.a)(e,"overFlow","hidden"),Object(f.a)(e,"whiteSpace","nowrap"),Object(f.a)(e,"textOverflow","ellipsis"),e),a=this.state,n=a.users,o=a.open,l=a.followMessage;return r.a.createElement(J.a,{text:!0,style:{marginTop:"10vh"}},r.a.createElement(m.a,{as:"h2",style:{marginBottom:"18vh"}},"Users",r.a.createElement("p",null,r.a.createElement("div",null,o&&r.a.createElement("p",null,l)))),r.a.createElement(D.a,{columns:"three",divided:!0},r.a.createElement(D.a.Row,null,n.map((function(e,a){return r.a.createElement(D.a.Column,null,r.a.createElement(re.a,{style:{marginBottom:"5vh"},key:a},r.a.createElement(u.a,{src:"http://localhost/api/user/photo/".concat(e._id),onError:function(e){return e.target.src="".concat(Q.a)},rounded:!0,style:{minHeight:"200px",maxHeight:"200px"}}),r.a.createElement(re.a.Content,null,r.a.createElement(re.a.Header,null,e.name),r.a.createElement(re.a.Meta,null,r.a.createElement("span",{className:"date"},"Joined ",new Date(e.created).toDateString())),r.a.createElement(re.a.Description,null,r.a.createElement("div",{className:"ui bottom attached buttons"},r.a.createElement("a",{href:"/user/".concat(e._id)},r.a.createElement("button",{className:"ui button"},"Profile")))),r.a.createElement(oe.a,null,r.a.createElement("span",{style:t}," ",e.about))),r.a.createElement(re.a.Content,{extra:!0},r.a.createElement("a",null,r.a.createElement(w.a,{name:"user"}),"22 Friends"))))})))))}}]),a}(n.Component),se=ce,ue=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){var e;return Object(E.a)(this,a),(e=t.call(this)).init=function(t){var a=Object(p.b)().token;L(t,a).then((function(t){t.error?(O.b.error(t.error),e.setState({error:t.error,readirectToProfile:!1})):e.setState({id:t._id,name:t.name,email:t.email,error:"",about:t.about})}))},e.isValid=function(){var t=e.state,a=(t.email,t.name);t.password;return t.fileSize>2e6?(e.setState({error:"Image File shoud be less than 2MB"}),!1):0!=a.length||(e.setState({error:"Name is required"}),!1)},e.handleChange=function(t){return function(a){var n;e.setState({error:""});var r="photo"===t?a.target.files[0]:a.target.value,o="photo"===t?a.target.files[0].size:0;e.userData.set(t,r),e.setState((n={},Object(f.a)(n,t,r),Object(f.a)(n,"fileSize",o),n))}},e.clickSubmit=function(t){e.isValid()&&(t.preventDefault(),function(e,t,a){return console.log("userdata update: ",a),fetch("http://localhost:80/api/user/"+e,{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)},body:a}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}(e.props.match.params.userId,Object(p.b)().token,e.userData).then((function(t){t.error&&O.b.error(t.error),function(e,t){if("undifined"!==typeof window&&localStorage.getItem("jwt")){var a=JSON.parse(localStorage.getItem("jwt"));a.user=e,localStorage.setItem("jwt",JSON.stringify(a)),t()}}(t,(function(){e.setState({readirectToProfile:!0})}))})))},e.state={id:"",name:"",error:"",password:"",readirectToProfile:!1,fileSize:0,about:""},e}return Object(b.a)(a,[{key:"componentDidMount",value:function(){this.userData=new FormData;var e=this.props.match.params.userId;this.init(e)}},{key:"render",value:function(){var e=this.state,t=e.name,a=e.id,n=e.email,o=e.password,l=e.readirectToProfile,c=(e.error,e.about);if(l)return r.a.createElement(i.a,{to:"/user/".concat(a)});var s=a?"http://localhost/user/photo/".concat(a):Q.a;return r.a.createElement("div",{className:"ui container"},r.a.createElement(O.a,null),r.a.createElement("div",{className:"ui medium circular image"},r.a.createElement("img",{src:s,onError:function(e){return e.target.src="".concat(Q.a)}})),r.a.createElement("h3",{className:"ui block header"},"Block Header"),r.a.createElement("h2",{className:"mt-5 mb*5"},"Profile Photo"),r.a.createElement("form",{className:"ui form"},r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"ProfilePhoto"),r.a.createElement("input",{onChange:this.handleChange("photo"),className:"first-name",placeholder:"First Name",accept:"image/*",type:"file"})),r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Full Name"),r.a.createElement("input",{onChange:this.handleChange("name"),className:"first-name",placeholder:"First Name",value:t})),r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Description"),r.a.createElement("textarea",{onChange:this.handleChange("about"),className:"",value:c})),r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Email"),r.a.createElement("input",{onChange:this.handleChange("email"),type:"email",className:"last-name",placeholder:"Last Name",value:n})),r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{onChange:this.handleChange("password"),type:"password",className:"last-name",placeholder:"Last Name",value:o})),r.a.createElement("div",{className:"field"}),r.a.createElement("button",{onClick:this.clickSubmit,className:"ui button",type:"submit"},"Update")))}}]),a}(n.Component),me=a(265),he=function(e){var t=e.component,a=Object(me.a)(e,["component"]);return r.a.createElement(i.b,Object.assign({},a,{render:function(e){return Object(p.b)()?r.a.createElement(t,e):r.a.createElement(i.a,{to:{pathname:"/signin",state:{from:e.location}}})}}))},de=function(){return r.a.createElement("div",null,r.a.createElement(T,null),r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:["/home","/"],component:S}),r.a.createElement(i.b,{exact:!0,path:"/users",component:se}),r.a.createElement(i.b,{exact:!0,path:"/signup",component:M}),r.a.createElement(i.b,{exact:!0,path:"/signin",component:H}),r.a.createElement(he,{exact:!0,path:"/user/edit/:userId",component:ue}),r.a.createElement(i.b,{exact:!0,path:"/user/:userId",component:ne}),r.a.createElement(i.b,{exact:!0,path:"/user/:userId/followers",component:$}),r.a.createElement(he,{exact:!0,path:"/create/post",component:k})))},pe=function(){return r.a.createElement(c.a,null,r.a.createElement(de,null))},fe=document.createElement("link");fe.rel="stylesheet",fe.href="https://cdn.jsdelivr.net/npm/semantic-ui/dist/semantic.min.css",document.head.appendChild(fe),l.a.render(r.a.createElement(pe,null),document.getElementById("root"))}},[[277,1,2]]]);
//# sourceMappingURL=main.40cfb2c3.chunk.js.map